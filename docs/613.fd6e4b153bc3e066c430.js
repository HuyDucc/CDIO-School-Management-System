"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[613],{4613:(en,O,l)=>{l.r(O),l.d(O,{QuizzModule:()=>Kt});var u=l(8583),_=l(3456),b=l(4762),p=l(8645);let U=(()=>{class n{constructor(t){this.selectedQuizz=t}}return n.type="[Quizz] Store selected quizz",n})();var e=l(7716);let d=class{static selectedQuizz(o){return o.quizzes}saveSeletedQuizz(o,t){o.setState({quizzes:t.selectedQuizz})}};d.\u0275fac=function(o){return new(o||d)},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac}),(0,b.gn)([(0,p.aU)(U)],d.prototype,"saveSeletedQuizz",null),(0,b.gn)([(0,p.Qf)()],d,"selectedQuizz",null),d=(0,b.gn)([(0,p.ZM)({name:"quizz",defaults:{quizzes:void 0}})],d);let $=(()=>{class n{constructor(t,i){this.store=t,this.router=i}canActivate(t,i){return void 0!==this.store.selectSnapshot(d.selectedQuizz)||(this.router.navigate(["/home/quizz"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.yh),e.LFG(_.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var H=l(7084),j=l(3453),g=l(9344);let V=(()=>{class n{constructor(t,i,a){this.accountService=t,this.router=i,this.toastService=a}canActivate(t,i){return"Teacher"===H.A[this.accountService.currentUserValue.role]||(this.router.navigate(["/home"]),this.toastService.error("Ba\u0323n kh\xf4ng co\u0301 quy\xea\u0300n truy c\xe2\u0323p trang na\u0300y!"),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(j.B),e.LFG(_.F0),e.LFG(g._W))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=l(6782),m=l(1649),G=l(5917),x=l(2340),B=l(1841);let z=(()=>{class n{constructor(t){this.http=t}createQuizz(t){return this.http.post(`${x.N.apiHost}/quizz`,t)}updateQuizz(t){return this.http.put(`${x.N.apiHost}/quizz`,t)}deleteQuizz(t){return this.http.delete(`${x.N.apiHost}/quizz/${t}`)}getQuizzMark(t){return this.http.get(`${x.N.apiHost}/studentAnswer/calculateMark/${t}`)}storeAnswer(t){return this.http.post(`${x.N.apiHost}/studentAnswer`,t)}getQuizz(t){return(0,G.of)([{id:1,name:"ba\u0300i 1",dateCreated:"29-09-2021 09:06:59",description:"ab",examTime:6900,questions:[{id:1,text:"ho\u0309i gi\u0300",mark:2,answerA:"C\xe2u tra\u0309 l\u01a1\u0300i A",answerB:"C\xe2u tra\u0309 l\u01a1\u0300i B",answerC:"C",answerD:"D",dateCreated:"f"}]},{id:1,name:"ba\u0300i 2",dateCreated:"29-09-2021 09:06:59",description:"ab",examTime:12345,questions:[{id:1,text:"ho\u0309i gi\u0300",mark:2,answerA:"A",answerB:"B",answerC:"C",answerD:"D",dateCreated:"f"},{id:2,text:"ho\u0309i gi\u0300 2",mark:2,answerA:"A",answerB:"B",answerC:"C",answerD:"D",dateCreated:"f"}]}])}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r=l(3679);class W{constructor(o,t,i){this.testQuizzId=o,this.questionId=t,this.isSelected=i}}var F=(()=>{return(n=F||(F={})).A="A",n.B="B",n.C="C",n.D="D",F;var n})();let D=(()=>{class n{constructor(t){this.http=t}deleteQuestion(t){return this.http.delete(`${x.N.apiHost}/question/${t}`)}createQuestion(t){return this.http.post(`${x.N.apiHost}/question`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(B.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=l(671);const X=["rb"],K=function(n,o,t){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":o,"p-radiobutton-label-focus":t}};function ee(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"label",7),e.NdJ("click",function(a){return e.CHM(t),e.oxw().select(a)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(),i=e.MAs(3);e.Tol(t.labelStyleClass),e.Q6J("ngClass",e.kEZ(5,K,i.checked,t.disabled,t.focused)),e.uIk("for",t.inputId),e.xp6(1),e.Oqu(t.label)}}const te=function(n,o,t){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":o,"p-radiobutton-focused":t}},ne=function(n,o,t){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":o,"p-focus":t}},ie={provide:r.JU,useExisting:(0,e.Gpc)(()=>J),multi:!0};let oe=(()=>{class n{constructor(){this.accessors=[]}add(t,i){this.accessors.push([t,i])}remove(t){this.accessors=this.accessors.filter(i=>i[1]!==t)}select(t){this.accessors.forEach(i=>{this.isSameGroup(i,t)&&i[1]!==t&&i[1].writeValue(t.value)})}isSameGroup(t,i){return!!t[0].control&&t[0].control.root===i.control.control.root&&t[1].name===i.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,e.Yz7)({factory:function(){return new n},token:n,providedIn:"root"}),n})(),J=(()=>{class n{constructor(t,i,a){this.cd=t,this.injector=i,this.registry=a,this.onClick=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.formControlName&&(this.control=this.injector.get(r.a5),this.checkName(),this.registry.add(this.control,this))}handleClick(t,i,a){t.preventDefault(),!this.disabled&&(this.select(t),a&&i.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.formControlName&&this.registry.select(this),this.onClick.emit(t))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.formControlName&&this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(e.zs3),e.Y36(oe))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-radioButton"]],viewQuery:function(t,i){if(1&t&&e.Gf(X,5),2&t){let a;e.iGM(a=e.CRH())&&(i.inputViewChild=a.first)}},inputs:{disabled:"disabled",name:"name",value:"value",formControlName:"formControlName",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[e._Bn([ie])],decls:7,vars:22,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],["role","radio",3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"],[3,"ngClass","click"]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"input",2,3),e.NdJ("change",function(c){return i.onChange(c)})("focus",function(c){return i.onInputFocus(c)})("blur",function(c){return i.onInputBlur(c)}),e.qZA(),e.qZA(),e.TgZ(4,"div",4),e.NdJ("click",function(c){e.CHM(a);const f=e.MAs(3);return i.handleClick(c,f,!0)}),e._UZ(5,"span",5),e.qZA(),e.qZA(),e.YNc(6,ee,2,9,"label",6)}2&t&&(e.Tol(i.styleClass),e.Q6J("ngStyle",i.style)("ngClass",e.kEZ(14,te,i.checked,i.disabled,i.focused)),e.xp6(2),e.Q6J("checked",i.checked)("disabled",i.disabled),e.uIk("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),e.xp6(2),e.Q6J("ngClass",e.kEZ(18,ne,i.checked,i.disabled,i.focused)),e.uIk("aria-checked",i.checked),e.xp6(2),e.Q6J("ngIf",i.label))},directives:[u.PC,u.mk,u.O5],encapsulation:2,changeDetection:0}),n})(),ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez]]}),n})();function se(n,o){1&n&&(e.TgZ(0,"small",18),e._uU(1,"Vui lo\u0300ng nh\xe2\u0323p \u0111i\xea\u0309m!"),e.qZA())}function re(n,o){1&n&&(e.TgZ(0,"small",18),e._uU(1,"\u0110i\xea\u0309m pha\u0309i l\u01a1\u0301n h\u01a1n ho\u0103\u0323c b\u0103\u0300ng 0.1!"),e.qZA())}function le(n,o){if(1&n&&(e.ynx(0),e.YNc(1,se,2,0,"small",17),e.YNc(2,re,2,0,"small",17),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.Mark.errors?null:t.Mark.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.Mark.errors?null:t.Mark.errors.min)}}function ue(n,o){1&n&&(e.TgZ(0,"small",18),e._uU(1,"Vui lo\u0300ng nh\xe2\u0323p c\xe2u ho\u0309i!"),e.qZA())}function ce(n,o){if(1&n&&(e.ynx(0),e.YNc(1,ue,2,0,"small",17),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.Text.errors?null:t.Text.errors.required)}}function de(n,o){if(1&n&&(e.TgZ(0,"div",19),e._UZ(1,"p-radioButton",20),e._UZ(2,"input",21),e.ALo(3,"titlecase"),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("value",t.value),e.xp6(1),e.Q6J("placeholder",e.lcZ(3,3,i.generatePlaceholder(t.value)))("formControlName",i.generatePlaceholder(t.value).split(" ").join(""))}}function me(n,o){1&n&&(e.TgZ(0,"small",18),e._uU(1,"Vui lo\u0300ng \u0111i\xea\u0300n \u0111\xe2\u0300y \u0111u\u0309 th\xf4ng tin!"),e.qZA())}function pe(n,o){1&n&&(e.TgZ(0,"small",18),e._uU(1,"Ha\u0303y cho\u0323n m\xf4\u0323t \u0111a\u0301p a\u0301n \u0111u\u0301ng!"),e.qZA())}function _e(n,o){if(1&n&&(e.ynx(0),e.YNc(1,me,2,0,"small",17),e.YNc(2,pe,2,0,"small",17),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.AnswerA.invalid||t.AnswerB.invalid||t.AnswerC.invalid||t.AnswerD.invalid),e.xp6(1),e.Q6J("ngIf",null==t.Answer.errors?null:t.Answer.errors.required)}}class Z{constructor(o,t,i,a){this.toastService=o,this.formBuilder=t,this.destroyableService=i,this.questionService=a}ngOnInit(){this.Answers=F,this.createQuestionForm=this.formBuilder.group({result:[{value:void 0},[r.kI.required]],mark:[{value:void 0},[r.kI.required,r.kI.min(.1)]],text:[{value:void 0},[r.kI.required]],answerA:[{value:void 0},[r.kI.required]],answerB:[{value:void 0},[r.kI.required]],answerC:[{value:void 0},[r.kI.required]],answerD:[{value:void 0},[r.kI.required]]}),this.Text.setValue(""),this.AnswerA.setValue(""),this.AnswerB.setValue(""),this.AnswerC.setValue(""),this.AnswerD.setValue(""),this.selectedQuizz$.pipe((0,h.R)(this.destroyableService.destroy$)).subscribe(o=>{this.quizzId=o.id})}get Answer(){return this.createQuestionForm.get("result")}get Mark(){return this.createQuestionForm.get("mark")}get Text(){return this.createQuestionForm.get("text")}get AnswerA(){return this.createQuestionForm.get("answerA")}get AnswerB(){return this.createQuestionForm.get("answerB")}get AnswerC(){return this.createQuestionForm.get("answerC")}get AnswerD(){return this.createQuestionForm.get("answerD")}generatePlaceholder(o){return`answer ${o}`}createQuestion(){this.createQuestionForm.invalid?this.toastService.error("Vui lo\u0300ng \u0111i\xea\u0300n \u0111\xe2\u0300y \u0111u\u0309 ca\u0301c th\xf4ng tin y\xeau c\xe2\u0300u!"):this.questionService.createQuestion(Object.assign(Object.assign({},this.createQuestionForm.value),{testQuizzId:this.quizzId})).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({next:()=>{this.toastService.success("Ta\u0323o c\xe2u ho\u0309i tha\u0300nh c\xf4ng!")},error:()=>this.toastService.error("Ta\u0323o c\xe2u ho\u0309i th\xe2\u0301t ba\u0323i, vui lo\u0300ng th\u01b0\u0309 la\u0323i sau!")})}}Z.\u0275fac=function(o){return new(o||Z)(e.Y36(g._W),e.Y36(r.qu),e.Y36(m.R),e.Y36(D))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-create-question-form"]],features:[e._Bn([m.R])],decls:26,vars:19,consts:[[1,"row"],[1,"card","col-8","mx-auto"],[3,"formGroup","ngSubmit"],[1,"card-header",2,"background-color","none !important"],[1,"card-title"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"font-weight-700","text-danger"],["type","number","placeholder","S\xf4\u0301 \u0111i\xea\u0309m","formControlName","mark",1,"form-control","app-control",2,"max-width","150px"],[4,"ngIf"],["placeholder","Write your question here","rows","3",1,"form-control","app-control",3,"formControl"],[1,"card-body"],[1,"card-block"],["class","form-group my-2 d-flex",4,"ngFor","ngForOf"],[1,"form-group","text-end"],["type","reset",1,"btn","btn-outline-danger"],[1,"px-3","text-center","mt-2"],["pButton","","label","Ta\u0323o c\xe2u ho\u0309i","icon","pi pi-plus","type","submit",1,"p-button-success","rounded-50"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"form-group","my-2","d-flex"],["formControlName","result","name","result",3,"value"],["type","text",1,"form-control","app-control","ms-3",3,"placeholder","formControlName"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return t.createQuestion()}),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"span",6),e._uU(7),e.ALo(8,"async"),e.qZA(),e.TgZ(9,"span"),e._UZ(10,"input",7),e.YNc(11,le,3,2,"ng-container",8),e.qZA(),e.qZA(),e._UZ(12,"textarea",9),e.YNc(13,ce,2,1,"ng-container",8),e.qZA(),e.qZA(),e.TgZ(14,"div",10),e.TgZ(15,"div",11),e.TgZ(16,"label"),e._uU(17,"C\xe2u tra\u0309 l\u01a1\u0300i: "),e.qZA(),e.YNc(18,de,4,5,"div",12),e.ALo(19,"keyvalue"),e.YNc(20,_e,3,2,"ng-container",8),e.TgZ(21,"div",13),e.TgZ(22,"button",14),e._uU(23,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(24,"div",15),e._UZ(25,"button",16),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){let i;e.xp6(2),e.Q6J("formGroup",t.createQuestionForm),e.xp6(5),e.hij("C\xe2u ho\u0309i ",(null==(i=e.lcZ(8,15,t.selectedQuizz$))?null:i.questions.length)+1,":"),e.xp6(3),e.ekj("is-invalid",(t.Mark.touched||t.Mark.dirty)&&t.Mark.invalid)("is-valid",(t.Mark.touched||t.Mark.dirty)&&t.Mark.valid),e.xp6(1),e.Q6J("ngIf",(t.Mark.touched||t.Mark.dirty)&&t.Mark.invalid),e.xp6(1),e.ekj("is-invalid",(t.Text.touched||t.Text.dirty)&&t.Text.invalid)("is-valid",(t.Text.touched||t.Text.dirty)&&t.Text.valid),e.Q6J("formControl",t.Text),e.xp6(1),e.Q6J("ngIf",(t.Text.touched||t.Text.dirty)&&t.Text.invalid),e.xp6(5),e.Q6J("ngForOf",e.lcZ(19,17,t.Answers)),e.xp6(2),e.Q6J("ngIf",t.createQuestionForm.invalid&&(t.createQuestionForm.touched||t.createQuestionForm.dirty))}},directives:[r._Y,r.JL,r.sg,r.wV,r.Fj,r.JJ,r.u,u.O5,r.oH,u.sg,v.Hq,J],pipes:[u.Ov,u.Nd,u.rS],styles:[""]}),(0,b.gn)([(0,p.Ph)(d.selectedQuizz)],Z.prototype,"selectedQuizz$",void 0);var S=l(2707),N=l(9132),T=l(7238),M=l(1689),R=l(5560);const he=["pMenuItemContent",""];function fe(n,o){if(1&n&&e._UZ(0,"span",6),2&n){const t=e.oxw(2);e.Q6J("ngClass",t.item.icon)}}function ge(n,o){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.item.label)}}function ve(n,o){if(1&n&&e._UZ(0,"span",8),2&n){const t=e.oxw(2);e.Q6J("innerHTML",t.item.label,e.oJD)}}const L=function(n){return{"p-disabled":n}};function ze(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",2),e.NdJ("click",function(a){e.CHM(t);const s=e.oxw();return s.menu.itemClick(a,s.item)}),e.YNc(1,fe,1,1,"span",3),e.YNc(2,ge,2,1,"span",4),e.YNc(3,ve,1,1,"ng-template",null,5,e.W1O),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw();e.Q6J("ngClass",e.VKq(10,L,i.item.disabled)),e.uIk("href",i.item.url||null,e.LSH)("tabindex",i.item.disabled?null:"0")("data-automationid",i.item.automationId)("target",i.item.target)("title",i.item.title)("id",i.item.id),e.xp6(1),e.Q6J("ngIf",i.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.item.escape)("ngIfElse",t)}}function Ce(n,o){if(1&n&&e._UZ(0,"span",6),2&n){const t=e.oxw(2);e.Q6J("ngClass",t.item.icon)}}function be(n,o){if(1&n&&(e.TgZ(0,"span",7),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.item.label)}}function xe(n,o){if(1&n&&e._UZ(0,"span",8),2&n){const t=e.oxw(2);e.Q6J("innerHTML",t.item.label,e.oJD)}}const Te=function(){return{exact:!1}};function Ze(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",9),e.NdJ("click",function(a){e.CHM(t);const s=e.oxw();return s.menu.itemClick(a,s.item)}),e.YNc(1,Ce,1,1,"span",3),e.YNc(2,be,2,1,"span",4),e.YNc(3,xe,1,1,"ng-template",null,10,e.W1O),e.qZA()}if(2&n){const t=e.MAs(4),i=e.oxw();e.Q6J("routerLink",i.item.routerLink)("queryParams",i.item.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.item.routerLinkActiveOptions||e.DdM(19,Te))("ngClass",e.VKq(20,L,i.item.disabled))("fragment",i.item.fragment)("queryParamsHandling",i.item.queryParamsHandling)("preserveFragment",i.item.preserveFragment)("skipLocationChange",i.item.skipLocationChange)("replaceUrl",i.item.replaceUrl)("state",i.item.state),e.uIk("data-automationid",i.item.automationId)("target",i.item.target)("id",i.item.id)("tabindex",i.item.disabled?null:"0")("title",i.item.title),e.xp6(1),e.Q6J("ngIf",i.item.icon),e.xp6(1),e.Q6J("ngIf",!1!==i.item.escape)("ngIfElse",t)}}const ye=["container"],y=function(n){return{"p-hidden":n}};function Qe(n,o){if(1&n&&e._UZ(0,"li",8),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,y,!1===t.visible))}}function Ae(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.label)}}function qe(n,o){if(1&n&&e._UZ(0,"span",12),2&n){const t=e.oxw(2).$implicit;e.Q6J("innerHTML",t.label,e.oJD)}}function we(n,o){if(1&n&&(e.TgZ(0,"li",9),e.YNc(1,Ae,2,1,"span",10),e.YNc(2,qe,1,1,"ng-template",null,11,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(4,y,!1===i.visible)),e.uIk("data-automationid",i.automationId),e.xp6(1),e.Q6J("ngIf",!1!==i.escape)("ngIfElse",t)}}function ke(n,o){if(1&n&&e._UZ(0,"li",8),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,y,!1===t.visible||!1===i.visible))}}function Se(n,o){if(1&n&&e._UZ(0,"li",14),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.Tol(t.styleClass),e.Q6J("pMenuItemContent",t)("ngClass",e.VKq(5,y,!1===t.visible||!1===i.visible))("ngStyle",t.style)}}function Me(n,o){if(1&n&&(e.YNc(0,ke,1,3,"li",6),e.YNc(1,Se,1,7,"li",13)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}function Ie(n,o){if(1&n&&(e.YNc(0,Qe,1,3,"li",6),e.YNc(1,we,4,6,"li",7),e.YNc(2,Me,2,2,"ng-template",5)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator),e.xp6(1),e.Q6J("ngForOf",t.items)}}function Fe(n,o){if(1&n&&e.YNc(0,Ie,3,3,"ng-template",5),2&n){const t=e.oxw(2);e.Q6J("ngForOf",t.model)}}function Ue(n,o){if(1&n&&e._UZ(0,"li",8),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(1,y,!1===t.visible))}}function Je(n,o){if(1&n&&e._UZ(0,"li",14),2&n){const t=e.oxw().$implicit;e.Tol(t.styleClass),e.Q6J("pMenuItemContent",t)("ngClass",e.VKq(5,y,!1===t.visible))("ngStyle",t.style)}}function Ne(n,o){if(1&n&&(e.YNc(0,Ue,1,3,"li",6),e.YNc(1,Je,1,7,"li",13)),2&n){const t=o.$implicit;e.Q6J("ngIf",t.separator),e.xp6(1),e.Q6J("ngIf",!t.separator)}}function Ye(n,o){if(1&n&&e.YNc(0,Ne,2,2,"ng-template",5),2&n){const t=e.oxw(2);e.Q6J("ngForOf",t.model)}}const Oe=function(n){return{"p-menu p-component":!0,"p-menu-overlay":n}},Be=function(n,o){return{showTransitionParams:n,hideTransitionParams:o}},De=function(n){return{value:"visible",params:n}};function Re(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",1,2),e.NdJ("click",function(){return e.CHM(t),e.oxw().preventDocumentDefault=!0})("@overlayAnimation.start",function(a){return e.CHM(t),e.oxw().onOverlayAnimationStart(a)}),e.TgZ(2,"ul",3),e.YNc(3,Fe,1,1,void 0,4),e.YNc(4,Ye,1,1,void 0,4),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass",e.VKq(8,Oe,t.popup))("ngStyle",t.style)("@overlayAnimation",e.VKq(13,De,e.WLB(10,Be,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0!==t.popup),e.xp6(3),e.Q6J("ngIf",t.hasSubMenu()),e.xp6(1),e.Q6J("ngIf",!t.hasSubMenu())}}let Le=(()=>{class n{constructor(t){this.menu=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36((0,e.Gpc)(()=>E)))},n.\u0275cmp=e.Xpm({type:n,selectors:[["","pMenuItemContent",""]],inputs:{item:["pMenuItemContent","item"]},attrs:he,decls:2,vars:2,consts:[["class","p-menuitem-link","role","menuitem",3,"ngClass","click",4,"ngIf"],["class","p-menuitem-link","role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click",4,"ngIf"],["role","menuitem",1,"p-menuitem-link",3,"ngClass","click"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],["role","menuitem","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click"],["htmlRouteLabel",""]],template:function(t,i){1&t&&(e.YNc(0,ze,5,12,"a",0),e.YNc(1,Ze,5,22,"a",1)),2&t&&(e.Q6J("ngIf",!i.item.routerLink),e.xp6(1),e.Q6J("ngIf",i.item.routerLink))},directives:[u.O5,u.mk,_.yS,R.H,_.Od],encapsulation:2}),n})(),E=(()=>{class n{constructor(t,i,a){this.el=t,this.renderer=i,this.cd=a,this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new e.vpe,this.onHide=new e.vpe}toggle(t){this.visible?this.hide():this.show(t),this.preventDocumentDefault=!0}show(t){this.target=t.currentTarget,this.relativeAlign=t.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.popup&&(this.container=t.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.onOverlayHide(),this.onHide.emit({})}}alignOverlay(){this.relativeAlign?M.p.relativePosition(this.container,this.target):M.p.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):M.p.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}moveOnTop(){this.autoZIndex&&(this.container.style.zIndex=String(this.baseZIndex+ ++M.p.zindex))}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.markForCheck()}onWindowResize(){this.hide()}itemClick(t,i){i.disabled?t.preventDefault():(i.url||t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.popup&&this.hide())}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.preventDocumentDefault||this.hide(),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new M.V(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1,this.target=null}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide())}hasSubMenu(){if(this.model)for(var t of this.model)if(t.items)return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-menu"]],viewQuery:function(t,i){if(1&t&&e.Gf(ye,5),2&t){let a;e.iGM(a=e.CRH())&&(i.containerViewChild=a.first)}},inputs:{autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],["container",""],[1,"p-menu-list","p-reset"],[4,"ngIf"],["ngFor","",3,"ngForOf"],["class","p-menu-separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header",3,"ngClass",4,"ngIf"],[1,"p-menu-separator",3,"ngClass"],[1,"p-submenu-header",3,"ngClass"],[4,"ngIf","ngIfElse"],["htmlSubmenuLabel",""],[3,"innerHTML"],["class","p-menuitem",3,"pMenuItemContent","ngClass","ngStyle","class",4,"ngIf"],[1,"p-menuitem",3,"pMenuItemContent","ngClass","ngStyle"]],template:function(t,i){1&t&&e.YNc(0,Re,5,15,"div",0),2&t&&e.Q6J("ngIf",!i.popup||i.visible)},directives:[u.O5,u.mk,u.PC,u.sg,Le],styles:[".p-menu-overlay{position:absolute}.p-menu ul{list-style:none;margin:0;padding:0}.p-menu .p-menuitem-link{align-items:center;cursor:pointer;display:flex;overflow:hidden;position:relative;text-decoration:none}.p-menu .p-menuitem-text{line-height:1}"],encapsulation:2,data:{animation:[(0,T.X$)("overlayAnimation",[(0,T.eR)(":enter",[(0,T.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,T.jt)("{{showTransitionParams}}")]),(0,T.eR)(":leave",[(0,T.jt)("{{hideTransitionParams}}",(0,T.oB)({opacity:0}))])])]},changeDetection:0}),n})(),Ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,_.Bz,R.T],_.Bz]}),n})();const Pe=["container"],$e=["defaultbtn"],He=["menu"];let je=(()=>{class n{constructor(){this.iconPos="left",this.onClick=new e.vpe,this.onDropdownClick=new e.vpe,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear"}onDefaultButtonClick(t){this.onClick.emit(t)}onDropdownButtonClick(t){this.onDropdownClick.emit(t),this.menu.toggle({currentTarget:this.containerViewChild.nativeElement,relativeAlign:null==this.appendTo})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-splitButton"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Pe,5),e.Gf($e,5),e.Gf(He,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.containerViewChild=a.first),e.iGM(a=e.CRH())&&(i.buttonViewChild=a.first),e.iGM(a=e.CRH())&&(i.menu=a.first)}},inputs:{iconPos:"iconPos",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",model:"model",icon:"icon",label:"label",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",disabled:"disabled",tabindex:"tabindex",appendTo:"appendTo",dir:"dir"},outputs:{onClick:"onClick",onDropdownClick:"onDropdownClick"},decls:7,vars:18,consts:[[3,"ngClass","ngStyle"],["container",""],["type","button","pButton","",1,"p-splitbutton-defaultbutton",3,"icon","iconPos","label","disabled","click"],["defaultbtn",""],["type","button","pButton","","icon","pi pi-chevron-down",1,"p-splitbutton-menubutton",3,"disabled","click"],[3,"popup","model","styleClass","appendTo","showTransitionOptions","hideTransitionOptions"],["menu",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.TgZ(2,"button",2,3),e.NdJ("click",function(s){return i.onDefaultButtonClick(s)}),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(s){return i.onDropdownButtonClick(s)}),e.qZA(),e._UZ(5,"p-menu",5,6),e.qZA()),2&t&&(e.Tol(i.styleClass),e.Q6J("ngClass","p-splitbutton p-component")("ngStyle",i.style),e.xp6(2),e.Q6J("icon",i.icon)("iconPos",i.iconPos)("label",i.label)("disabled",i.disabled),e.uIk("tabindex",i.tabindex),e.xp6(2),e.Q6J("disabled",i.disabled),e.xp6(1),e.Akn(i.menuStyle),e.Q6J("popup",!0)("model",i.model)("styleClass",i.menuStyleClass)("appendTo",i.appendTo)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions))},directives:[u.mk,u.PC,v.Hq,E],styles:[".p-splitbutton{display:inline-flex;position:relative}.p-splitbutton .p-splitbutton-defaultbutton{border-bottom-right-radius:0;border-right:0;border-top-right-radius:0;flex:1 1 auto}.p-splitbutton-menubutton{align-items:center;border-bottom-left-radius:0;border-top-left-radius:0;display:flex;justify-content:center}.p-splitbutton .p-menu{min-width:100%}.p-fluid .p-splitbutton{display:flex}"],encapsulation:2,changeDetection:0}),n})(),Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,v.hJ,Ee],v.hJ]}),n})();function Ge(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"p-splitButton",17),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("model",t.menuItems)}}function We(n,o){if(1&n&&(e.TgZ(0,"label",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("for","1a"+t.index),e.xp6(1),e.hij("A. ",t.question.answerA," ")}}function Xe(n,o){if(1&n&&e._UZ(0,"input",19),2&n){const t=e.oxw();e.Q6J("value",t.question.answerA)}}function Ke(n,o){if(1&n&&(e.TgZ(0,"label",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("for","2a"+t.index),e.xp6(1),e.hij("B. ",t.question.answerB,"")}}function et(n,o){if(1&n&&e._UZ(0,"input",19),2&n){const t=e.oxw();e.Q6J("value",t.question.answerB)}}function tt(n,o){if(1&n&&(e.TgZ(0,"label",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("for","3a"+t.index),e.xp6(1),e.hij("C. ",t.question.answerC,"")}}function nt(n,o){if(1&n&&e._UZ(0,"input",19),2&n){const t=e.oxw();e.Q6J("value",t.question.answerC)}}function it(n,o){if(1&n&&(e.TgZ(0,"label",18),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.Q6J("for","1a"+t.index),e.xp6(1),e.hij("D. ",t.question.answerD," ")}}function ot(n,o){if(1&n&&e._UZ(0,"input",19),2&n){const t=e.oxw();e.Q6J("value",t.question.answerD)}}let P=(()=>{class n{constructor(t,i,a,s,c,f,I){this.formGroup=t,this.store=i,this.destroyableService=a,this.quizzService=s,this.toastService=c,this.confirmationService=f,this.questionService=I,this.isEditing=!1}ngOnInit(){this.questionForm=this.formGroup.group({answer:[{value:void 0,disabled:this.editable},[r.kI.required]]}),this.menuItems=[{label:"Edit",icon:"pi pi-refresh",command:()=>{this.isEditing=!this.isEditing,!1===this.isEditing?this.Answer.disable():this.Answer.enable()}},{label:"Delete",icon:"pi pi-times",command:()=>{this.confirmationService.confirm({message:"Ba\u0323n co\u0301 th\xe2\u0323t s\u01b0\u0323 mu\xf4\u0301n xo\u0301a c\xe2u ho\u0309i na\u0300y kh\xf4ng?",accept:()=>{this.questionService.deleteQuestion(this.question.id).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({next:()=>this.toastService.success("Xo\u0301a c\xe2u ho\u0309i tha\u0300nh c\xf4ng!"),error:()=>this.toastService.error("Xo\u0301a c\xe2u ho\u0309i th\xe2\u0301t ba\u0323i, vui lo\u0300ng th\u01b0\u0309 la\u0323i!")})}})}}]}get Answer(){return this.questionForm.get("answer")}onSelectAnswer(t){const i=this.store.selectSnapshot(d.selectedQuizz);this.quizzService.storeAnswer(new W(i.id,this.question.id,t)).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({error:()=>this.toastService.error("\u0110a\u0303 co\u0301 b\xe2\u0301t ng\u01a1\u0300 xa\u0309y ra. Vui lo\u0300ng th\u01b0\u0309 la\u0323i :(")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(p.yh),e.Y36(m.R),e.Y36(z),e.Y36(g._W),e.Y36(S.YP),e.Y36(D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-question-form"]],inputs:{question:"question",index:"index",editable:"editable"},features:[e._Bn([m.R,S.YP])],decls:33,vars:21,consts:[["header","Xa\u0301c nh\xe2\u0323n","icon","pi pi-exclamation-triangle"],[1,"card","p-2","mt-2"],[1,"card-header","d-flex","justify-content-between","py-1",2,"background-color","none!important"],[1,"card-title","d-inline-block"],[1,"font-weight-700","text-danger"],[4,"ngIf"],[1,"card-body"],[1,"card-block"],[3,"formGroup"],[1,"row"],[1,"col-6","mt-2","d-flex","align-items-center"],["formControlName","answer","icon","pi pi-check",3,"value","inputId","onFocus"],["class","ms-3",3,"for",4,"ngIf","ngIfElse"],["displayInputA",""],["formControlName","answer",3,"value","inputId","onFocus"],["displayInputB",""],["displayInputC",""],["label","Save","icon","pi pi-plus","styleClass","p-button-help",1,"py-2","d-inline-block","mr-2",3,"model"],[1,"ms-3",3,"for"],["type","text",1,"form-control","ms-1","w-75","app-control",3,"value"]],template:function(t,i){if(1&t&&(e._UZ(0,"p-confirmDialog",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"span",4),e._uU(5),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.qZA(),e.YNc(8,Ge,2,1,"ng-container",5),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"form",8),e.TgZ(12,"div",9),e.TgZ(13,"div",10),e.TgZ(14,"p-radioButton",11),e.NdJ("onFocus",function(s){return i.onSelectAnswer(s.target.value)}),e.qZA(),e.YNc(15,We,2,2,"label",12),e.YNc(16,Xe,1,1,"ng-template",null,13,e.W1O),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"p-radioButton",14),e.NdJ("onFocus",function(s){return i.onSelectAnswer(s.target.value)}),e.qZA(),e.YNc(20,Ke,2,2,"label",12),e.YNc(21,et,1,1,"ng-template",null,15,e.W1O),e.qZA(),e.TgZ(23,"div",10),e.TgZ(24,"p-radioButton",14),e.NdJ("onFocus",function(s){return i.onSelectAnswer(s.target.value)}),e.qZA(),e.YNc(25,tt,2,2,"label",12),e.YNc(26,nt,1,1,"ng-template",null,16,e.W1O),e.qZA(),e.TgZ(28,"div",10),e.TgZ(29,"p-radioButton",14),e.NdJ("onFocus",function(s){return i.onSelectAnswer(s.target.value)}),e.qZA(),e.YNc(30,it,2,2,"label",12),e.YNc(31,ot,1,1,"ng-template",null,16,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const a=e.MAs(17),s=e.MAs(22),c=e.MAs(27);e.xp6(5),e.hij("C\xe2u ho\u0309i ",i.index+1,":"),e.xp6(2),e.AsE(" ",i.question.text,"? (",i.question.mark," \u0111i\xea\u0309m) "),e.xp6(1),e.Q6J("ngIf",!0===i.editable),e.xp6(3),e.Q6J("formGroup",i.questionForm),e.xp6(3),e.Q6J("value","A")("inputId","1a"+i.index),e.xp6(1),e.Q6J("ngIf",!1===i.isEditing)("ngIfElse",a),e.xp6(4),e.Q6J("value","B")("inputId","2a"+i.index),e.xp6(1),e.Q6J("ngIf",!1===i.isEditing)("ngIfElse",s),e.xp6(4),e.Q6J("value","C")("inputId","3a"+i.index),e.xp6(1),e.Q6J("ngIf",!1===i.isEditing)("ngIfElse",c),e.xp6(4),e.Q6J("value","D")("inputId","4a"+i.index),e.xp6(1),e.Q6J("ngIf",!1===i.isEditing)("ngIfElse",c)}},directives:[N.Q,u.O5,r._Y,r.JL,r.sg,J,r.JJ,r.u,je],styles:["[_nghost-%COMP%]     .p-splitbutton-defaultbutton{height:40px}[_nghost-%COMP%]     .p-splitbutton-menubutton{height:40px}"]}),n})();function at(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-question-form",9),e.BQk()),2&n){const t=o.$implicit,i=o.index;e.xp6(1),e.Q6J("question",t)("index",i)("editable",!0)}}class Q{constructor(o,t,i,a){this.destroyableService=o,this.quizzService=t,this.toastService=i,this.router=a}ngOnInit(){this.selectedQuizz$.pipe((0,h.R)(this.destroyableService.destroy$)).subscribe(o=>{this.exam=o})}}Q.\u0275fac=function(o){return new(o||Q)(e.Y36(m.R),e.Y36(z),e.Y36(g._W),e.Y36(_.F0))},Q.\u0275cmp=e.Xpm({type:Q,selectors:[["app-editable-question-page"]],features:[e._Bn([m.R])],decls:13,vars:4,consts:[[1,"card"],[1,"d-flex","justify-content-between","card-header"],[1,"card-title","d-inline-block"],[1,"text-primary"],[1,"text-dark"],[1,"card-body"],[1,"card-block"],[4,"ngFor","ngForOf"],[1,"py-3","mt-1"],[3,"question","index","editable"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e.TgZ(5,"b",4),e._uU(6,"Nga\u0300y ta\u0323o:"),e.qZA(),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"div",6),e.YNc(10,at,2,3,"ng-container",7),e.TgZ(11,"div",8),e._UZ(12,"app-create-question-form"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.AsE(" Ba\u0300i thi ",null==t.exam?null:t.exam.name," - ",null==t.exam?null:t.exam.description," "),e.xp6(4),e.hij(" ",null==t.exam?null:t.exam.dateCreated," "),e.xp6(3),e.Q6J("ngForOf",null==t.exam?null:t.exam.questions))},directives:[u.sg,Z,P],styles:[""]}),(0,b.gn)([(0,p.Ph)(d.selectedQuizz)],Q.prototype,"selectedQuizz$",void 0);let st=(()=>{class n{constructor(t){var i;this.router=t,this.mark=null===(i=this.router.getCurrentNavigation().extras.state)||void 0===i?void 0:i.mark}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-exam-fulfilled-page"]],decls:50,vars:1,consts:[[1,"card","py-5"],[1,"card-header"],[1,"app-modal-title","text-center","text-success"],[1,"confetti"],[1,"confetti-piece"],[1,"body"],[1,"block","text-center","py-4"],[1,"card-subtitle"],[1,"text-center","font-weight-500","text-success"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3," Ba\u0323n \u0111a\u0303 hoa\u0300n tha\u0300nh ba\u0300i thi "),e.qZA(),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"div",4),e._UZ(6,"div",4),e._UZ(7,"div",4),e._UZ(8,"div",4),e._UZ(9,"div",4),e._UZ(10,"div",4),e._UZ(11,"div",4),e._UZ(12,"div",4),e._UZ(13,"div",4),e._UZ(14,"div",4),e._UZ(15,"div",4),e._UZ(16,"div",4),e._UZ(17,"div",4),e._UZ(18,"div",4),e._UZ(19,"div",4),e._UZ(20,"div",4),e._UZ(21,"div",4),e._UZ(22,"div",4),e._UZ(23,"div",4),e._UZ(24,"div",4),e._UZ(25,"div",4),e._UZ(26,"div",4),e._UZ(27,"div",4),e._UZ(28,"div",4),e._UZ(29,"div",4),e._UZ(30,"div",4),e._UZ(31,"div",4),e._UZ(32,"div",4),e._UZ(33,"div",4),e._UZ(34,"div",4),e._UZ(35,"div",4),e._UZ(36,"div",4),e._UZ(37,"div",4),e._UZ(38,"div",4),e._UZ(39,"div",4),e._UZ(40,"div",4),e._UZ(41,"div",4),e._UZ(42,"div",4),e._UZ(43,"div",4),e.qZA(),e.TgZ(44,"div",5),e.TgZ(45,"div",6),e.TgZ(46,"p",7),e._uU(47," S\xf4\u0301 \u0111i\xea\u0309m cu\u0309a ba\u0323n la\u0300: "),e.TgZ(48,"span",8),e._uU(49),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(49),e.Oqu(i.mark))},styles:[".confetti[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;overflow:hidden;z-index:1000}.confetti-piece[_ngcontent-%COMP%]{position:absolute;width:10px;height:30px;background:#ffd300;top:0;opacity:0}.confetti-piece[_ngcontent-%COMP%]:nth-child(1){left:7%;transform:rotate(-40deg);animation:makeItRain 1s infinite ease-out;animation-delay:182ms;animation-duration:1116ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(2){left:14%;transform:rotate(4deg);animation:makeItRain 1s infinite ease-out;animation-delay:161ms;animation-duration:1076ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(3){left:21%;transform:rotate(-51deg);animation:makeItRain 1s infinite ease-out;animation-delay:481ms;animation-duration:1103ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(4){left:28%;transform:rotate(61deg);animation:makeItRain 1s infinite ease-out;animation-delay:334ms;animation-duration:708ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(5){left:35%;transform:rotate(-52deg);animation:makeItRain 1s infinite ease-out;animation-delay:302ms;animation-duration:776ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(6){left:42%;transform:rotate(38deg);animation:makeItRain 1s infinite ease-out;animation-delay:.18s;animation-duration:1168ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(7){left:49%;transform:rotate(11deg);animation:makeItRain 1s infinite ease-out;animation-delay:395ms;animation-duration:1.2s}.confetti-piece[_ngcontent-%COMP%]:nth-child(8){left:56%;transform:rotate(49deg);animation:makeItRain 1s infinite ease-out;animation-delay:14ms;animation-duration:887ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(9){left:63%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:149ms;animation-duration:805ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(10){left:70%;transform:rotate(10deg);animation:makeItRain 1s infinite ease-out;animation-delay:351ms;animation-duration:1059ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(11){left:77%;transform:rotate(4deg);animation:makeItRain 1s infinite ease-out;animation-delay:307ms;animation-duration:1132ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(12){left:84%;transform:rotate(42deg);animation:makeItRain 1s infinite ease-out;animation-delay:464ms;animation-duration:776ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(13){left:91%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:818ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(14){left:93%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:.9s}.confetti-piece[_ngcontent-%COMP%]:nth-child(15){left:40%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:915ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(16){left:12%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:.95s}.confetti-piece[_ngcontent-%COMP%]:nth-child(17){left:24%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:943ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(18){left:78%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:1.3s}.confetti-piece[_ngcontent-%COMP%]:nth-child(19){left:30%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:1.2s}.confetti-piece[_ngcontent-%COMP%]:nth-child(20){left:37%;transform:rotate(-72deg);animation:makeItRain 1s infinite ease-out;animation-delay:429ms;animation-duration:1111ms}.confetti-piece[_ngcontent-%COMP%]:nth-child(odd){background:#7431e8}.confetti-piece[_ngcontent-%COMP%]:nth-child(even){z-index:1}.confetti-piece[_ngcontent-%COMP%]:nth-child(4n){width:5px;height:12px;animation-duration:2s}.confetti-piece[_ngcontent-%COMP%]:nth-child(3n){width:3px;height:10px;animation-duration:2.5s;animation-delay:1s}.confetti-piece[_ngcontent-%COMP%]:nth-child(4n-7){background:red}@keyframes makeItRain{0%{opacity:0}50%{opacity:1}to{transform:translateY(350px)}}"]}),n})();var rt=l(1571),lt=l(7574);function ct(n){const{start:o,index:t,count:i,subscriber:a}=n;t>=i?a.complete():(a.next(o),!a.closed&&(n.index=t+1,n.start=o+1,this.schedule(n)))}var dt=l(8634),mt=l(8002);let A=(()=>{class n{convertTimerToSeconds(t){const s=60*(60*t.hour+t.minute);return t.second?s+t.second:s}convertSecondsToTimer(t){const i=t/60%60;return{hour:(t/60-i)/60,minute:i}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),pt=(()=>{class n{constructor(t,i,a,s,c){this.destroyableService=t,this.quizzService=i,this.store=a,this.convertTimeService=s,this.toastService=c,this.timerOver=new e.vpe,this.areTenSecsRemainings=!1}ngOnInit(){(0,rt.$R)(function(n=0,o,t){return new lt.y(i=>{void 0===o&&(o=n,n=0);let a=0,s=n;if(t)return t.schedule(ct,0,{index:a,count:o,start:n,subscriber:i});for(;;){if(a++>=o){i.complete();break}if(i.next(s++),i.closed)break}})}(0,this.value),(0,dt.H)(0,1e3)).pipe((0,h.R)(this.destroyableService.destroy$),(0,mt.U)(([i])=>this.value-i)).subscribe(i=>{let a=parseInt(""+i/60);const s=i%60,c=parseInt(""+a/60);a%=60,i<60&&(this.areTenSecsRemainings=!0),this.timerValue={hour:c,minute:a,second:s}},console.log,()=>this.timerOver.emit("TIMER OVER"))}ngOnDestroy(){const t=this.store.selectSnapshot(d.selectedQuizz);t.examTime=this.convertTimeService.convertTimerToSeconds(this.timerValue);const i=Object.assign({},t);delete i.dateCreated,delete i.subject.dateCreated,i.questions.forEach(a=>{delete a.dateCreated}),this.quizzService.updateQuizz(i).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({next:()=>this.toastService.success("Ha\u0303y quay la\u0323i va\u0300 hoa\u0300n tha\u0300nh ba\u0300i thi cu\u0309a ba\u0323n!"),error:()=>this.toastService.error("\u0110a\u0303 co\u0301 l\xf4\u0303i b\xe2\u0301t ng\u01a1\u0300 xa\u0309y ra!")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.R),e.Y36(z),e.Y36(p.yh),e.Y36(A),e.Y36(g._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-timer-countdown"]],inputs:{value:"value"},outputs:{timerOver:"onComplete"},features:[e._Bn([m.R,A])],decls:7,vars:14,consts:[[1,"mt-2"],[1,"text-dark","font-weight-500"]],template:function(t,i){1&t&&(e.TgZ(0,"h5",0),e.TgZ(1,"span",1),e._uU(2,"Th\u01a1\u0300i gian co\u0300n la\u0323i:"),e.qZA(),e._uU(3),e.ALo(4,"number"),e.ALo(5,"number"),e.ALo(6,"number"),e.qZA()),2&t&&(e.ekj("is-time-out",!0===i.areTenSecsRemainings),e.xp6(3),e.lnq(" ",e.xi3(4,5,null==i.timerValue?null:i.timerValue.hour,"2.0"),":",e.xi3(5,8,null==i.timerValue?null:i.timerValue.minute,"2.0"),":",e.xi3(6,11,null==i.timerValue?null:i.timerValue.second,"2.0"),"\n"))},pipes:[u.JJ],styles:[".is-time-out[_ngcontent-%COMP%]{animation:time-out 1s infinite}@keyframes time-out{0%{color:inherit}to{color:#fa7070}}"]}),n})();function _t(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"app-question-form",13),e.BQk()),2&n){const t=o.$implicit,i=o.index;e.xp6(1),e.Q6J("question",t)("index",i)}}class q{constructor(o,t,i,a){this.destroyableService=o,this.quizzService=t,this.toastService=i,this.router=a}ngOnInit(){this.selectedQuizz$.pipe((0,h.R)(this.destroyableService.destroy$)).subscribe(o=>{this.exam=o})}calculateQuizzMark(){this.quizzService.getQuizzMark(this.exam.id).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({next:o=>{this.router.navigate(["/home/quizz/exam/fulfilled"],{state:{mark:o.mark}})},error:()=>{this.toastService.error("N\xf4\u0323p ba\u0300i th\xe2\u0301t ba\u0323i. Vui lo\u0300ng th\u01b0\u0309 la\u0323i!")}})}}q.\u0275fac=function(o){return new(o||q)(e.Y36(m.R),e.Y36(z),e.Y36(g._W),e.Y36(_.F0))},q.\u0275cmp=e.Xpm({type:q,selectors:[["app-exam-page"]],features:[e._Bn([m.R])],decls:17,vars:5,consts:[[1,"card"],[1,"d-flex","justify-content-between","card-header"],[1,"card-title","d-inline-block"],[1,"text-primary"],[1,"text-dark"],[1,"px-3"],[3,"value"],[1,"card-body"],[1,"card-block"],[4,"ngFor","ngForOf"],[1,"mt-3","text-end","px-3"],["pButton","","label","N\xf4\u0323p ba\u0300i",1,"p-button-success",3,"click"],[1,"fas","fa-star","text-white"],[3,"question","index"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e.TgZ(5,"b",4),e._uU(6,"Nga\u0300y ta\u0323o:"),e.qZA(),e._uU(7),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"app-timer-countdown",6),e.qZA(),e.TgZ(10,"div",7),e.TgZ(11,"div",8),e.YNc(12,_t,2,2,"ng-container",9),e.qZA(),e.qZA(),e.TgZ(13,"div",10),e.TgZ(14,"button",11),e.NdJ("click",function(){return t.calculateQuizzMark()}),e._UZ(15,"i",12),e._uU(16,"\xa0\xa0 "),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.AsE(" Ba\u0300i thi ",null==t.exam?null:t.exam.name," - ",null==t.exam?null:t.exam.description," "),e.xp6(4),e.hij(" ",null==t.exam?null:t.exam.dateCreated," "),e.xp6(2),e.Q6J("value",null==t.exam?null:t.exam.examTime),e.xp6(3),e.Q6J("ngForOf",null==t.exam?null:t.exam.questions))},directives:[pt,u.sg,v.Hq,P],styles:[""]}),(0,b.gn)([(0,p.Ph)(d.selectedQuizz)],q.prototype,"selectedQuizz$",void 0);var Y=l(5626),w=l(4301),ht=l(3964),C=l(9148);function ft(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"Vui lo\u0300ng nh\xe2\u0323p t\xean ba\u0300i thi"),e.qZA())}function gt(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ft,2,0,"small",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.Name?null:t.Name.errors.required)}}function vt(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"Vui lo\u0300ng loa\u0323i ba\u0300i thi"),e.qZA())}function zt(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,vt,2,0,"small",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.Description?null:t.Description.errors.required)}}function Ct(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"h4",4),e._uU(2,"Ta\u0323o ba\u0300i thi"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span"),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"form",7),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().createQuizz()}),e.TgZ(8,"div",8),e.TgZ(9,"label",9),e._uU(10,"T\xean m\xf4n ho\u0323c"),e.qZA(),e._UZ(11,"input",10),e.YNc(12,gt,2,1,"div",11),e.qZA(),e.TgZ(13,"div",12),e.TgZ(14,"label",13),e._uU(15,"Loa\u0323i ba\u0300i thi"),e.qZA(),e._UZ(16,"input",14),e.YNc(17,zt,2,1,"div",11),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"label"),e._uU(20,"Th\u01a1\u0300i gian la\u0300m ba\u0300i"),e.qZA(),e._UZ(21,"ngb-timepicker",15),e.qZA(),e._UZ(22,"div",12),e.TgZ(23,"div",16),e.TgZ(24,"button",17),e.NdJ("click",function(){return e.CHM(t).$implicit.close("save click")}),e._UZ(25,"i",18),e._uU(26,"\xa0\xa0"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.createQuizzForm),e.xp6(4),e.ekj("is-valid",(t.Name.touched||t.Name.dirty)&&t.Name.valid)("is-invalid",(t.Name.touched||t.Name.dirty)&&t.Name.invalid),e.xp6(1),e.Q6J("ngIf",(t.Name.touched||t.Name.dirty)&&t.Name.invalid),e.xp6(4),e.ekj("is-valid",(t.Description.touched||t.Description.dirty)&&t.Description.valid)("is-invalid",(t.Description.touched||t.Description.dirty)&&t.Description.invalid),e.xp6(1),e.Q6J("ngIf",(t.Description.touched||t.Description.dirty)&&t.Description.invalid)}}let bt=(()=>{class n{constructor(t,i,a,s,c,f,I){this.modal=t,this.formBuilder=i,this.destroyableService=a,this.toastService=s,this.quizzService=c,this.store=f,this.convertTimeService=I}ngOnInit(){this.createQuizzForm=this.formBuilder.group({name:["",r.kI.required],description:["",r.kI.required],examTime:[{hour:1,minute:0},r.kI.required]})}get Name(){return this.createQuizzForm.get("name")}get Description(){return this.createQuizzForm.get("description")}get examTime(){return this.createQuizzForm.get("examTime")}openQuizzModal(t){this.modal.open(t,{size:"md"})}createQuizz(){const t=this.createQuizzForm.value;if(this.createQuizzForm.valid){const i=this.store.selectSnapshot(Y.t.getSelectedSubject);t.examTime=this.convertTimeService.convertTimerToSeconds(t.examTime),t.subject=i,delete t.subject.dateCreated,delete t.subject.teacher,this.quizzService.createQuizz(t).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({next:()=>this.toastService.success("Ba\u0300i thi \u0111a\u0303 \u0111\u01b0\u01a1\u0323c ta\u0323o d\u01b0\u01a1\u0301i n\xea\u0300n. Se\u0303 \u0111\u01b0\u01a1\u0323c c\xe2\u0323p nh\xe2\u0323t trong i\u0301t phu\u0301t!"),error:()=>this.toastService.error("\u0110a\u0303 co\u0301 l\xf4\u0303i xa\u0309y ra. Vui lo\u0300ng th\u01b0\u0309 la\u0323i sau!")})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.FF),e.Y36(r.qu),e.Y36(m.R),e.Y36(g._W),e.Y36(z),e.Y36(p.yh),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-quizz-modal"]],features:[e._Bn([m.R,A])],decls:5,vars:0,consts:[["content",""],["pButton","","type","button","label","Create",1,"p-button-success",3,"click"],[1,"fas","fa-plus","text-white"],[1,"modal-header"],[1,"modal-title","text-center","mx-auto","app-modal-title"],["type","button",1,"close","btn",3,"click"],[1,"modal-body","py-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","quizzName"],["type","text","placeholder","T\xean ba\u0300i thi","formControlName","name","pInputText","","id","quizzName",1,"app-control","form-control","mt-1"],[4,"ngIf"],[1,"form-group","mt-2"],["for","quizzDes"],["type","text","placeholder","Ex: Mid term exam","formControlName","description","pInputText","","id","quizzDes",1,"app-control","form-control","mt-1"],["formControlName","examTime"],[1,"text-end","mt-3"],["pButton","","label","Save","type","submit",1,"p-button-success","ms-2",3,"click"],[1,"far","fa-check-square","text-white"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,i){if(1&t){const a=e.EpF();e.YNc(0,Ct,27,11,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(1);return i.openQuizzModal(c)}),e._UZ(3,"i",2),e._uU(4,"\xa0\xa0\n"),e.qZA()}},directives:[v.Hq,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,u.O5,C.Pm],styles:[""]}),n})();function xt(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"Vui lo\u0300ng nh\xe2\u0323p t\xean ba\u0300i thi"),e.qZA())}function Tt(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,xt,2,0,"small",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.Name?null:t.Name.errors.required)}}function Zt(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"Vui lo\u0300ng loa\u0323i ba\u0300i thi"),e.qZA())}function yt(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Zt,2,0,"small",19),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.Description?null:t.Description.errors.required)}}function Qt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"h4",4),e._uU(2,"C\xe2\u0323p nh\xe2\u0323t thi"),e.qZA(),e.TgZ(3,"button",5),e.NdJ("click",function(){return e.CHM(t).$implicit.dismiss("Cross click")}),e.TgZ(4,"span"),e._uU(5,"\xd7"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"form",7),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().updateQuizz()}),e.TgZ(8,"div",8),e.TgZ(9,"label",9),e._uU(10,"T\xean ba\u0300i thi"),e.qZA(),e._UZ(11,"input",10),e.YNc(12,Tt,2,1,"div",11),e.qZA(),e.TgZ(13,"div",12),e.TgZ(14,"label",13),e._uU(15,"Loa\u0323i ba\u0300i thi"),e.qZA(),e._UZ(16,"input",14),e.YNc(17,yt,2,1,"div",11),e.qZA(),e.TgZ(18,"div",12),e.TgZ(19,"label"),e._uU(20,"Th\u01a1\u0300i gian la\u0300m ba\u0300i"),e.qZA(),e._UZ(21,"ngb-timepicker",15),e.qZA(),e._UZ(22,"div",12),e.TgZ(23,"div",16),e.TgZ(24,"button",17),e._UZ(25,"i",18),e._uU(26,"\xa0\xa0 "),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("formGroup",t.updateQuizzForm),e.xp6(4),e.ekj("is-valid",(t.Name.touched||t.Name.dirty)&&t.Name.valid)("is-invalid",(t.Name.touched||t.Name.dirty)&&t.Name.invalid),e.xp6(1),e.Q6J("ngIf",(t.Name.touched||t.Name.dirty)&&t.Name.invalid),e.xp6(4),e.ekj("is-valid",(t.Description.touched||t.Description.dirty)&&t.Description.valid)("is-invalid",(t.Description.touched||t.Description.dirty)&&t.Description.invalid),e.xp6(1),e.Q6J("ngIf",(t.Description.touched||t.Description.dirty)&&t.Description.invalid)}}let At=(()=>{class n{constructor(t,i,a,s,c,f,I){this.modal=t,this.formBuilder=i,this.destroyableService=a,this.toastService=s,this.quizzService=c,this.store=f,this.convertTimeService=I}ngOnInit(){}get Name(){return this.updateQuizzForm.get("name")}get Description(){return this.updateQuizzForm.get("description")}get examTime(){return this.updateQuizzForm.get("examTime")}openUpdateQuizzModal(t){const i=this.store.selectSnapshot(d.selectedQuizz);if(void 0===i)this.toastService.error("Vui lo\u0300ng cho\u0323n ba\u0300i thi \u0111\xea\u0309 c\xe2\u0323p nh\xe2\u0323t!");else{this.modal.open(t,{size:"md"});const{name:a,description:s,examTime:c}=i,f=this.convertTimeService.convertSecondsToTimer(c);console.log(f),this.updateQuizzForm=this.formBuilder.group({name:[a,r.kI.required],description:[s,r.kI.required],examTime:[f,r.kI.required]})}}updateQuizz(){this.updateQuizzForm.valid&&this.quizzService.updateQuizz(this.updateQuizzForm.value).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({next:()=>this.toastService.success("Ba\u0300i thi \u0111a\u0303 \u0111\u01b0\u01a1\u0323c c\xe2\u0323p nh\xe2\u0323t d\u01b0\u01a1\u0301i n\xea\u0300n. Ha\u0303y quay la\u0323i trong i\u0301t phu\u0301t!;"),error:()=>this.toastService.error("C\xe2\u0323p nh\xe2\u0323t ba\u0300i thi th\xe2\u0301t ba\u0323i!")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.FF),e.Y36(r.qu),e.Y36(m.R),e.Y36(g._W),e.Y36(z),e.Y36(p.yh),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-quizz-modal"]],features:[e._Bn([m.R,A])],decls:5,vars:0,consts:[["content",""],["pButton","","type","button","label","Update",1,"p-button-help","ms-2",3,"click"],[1,"fas","fa-edit","text-white"],[1,"modal-header"],[1,"modal-title","text-center","mx-auto","app-modal-title"],["type","button",1,"close","btn",3,"click"],[1,"modal-body","py-5"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","quizzName"],["type","text","placeholder","T\xean ba\u0300i thi","formControlName","name","pInputText","","id","quizzName",1,"app-control","form-control","mt-1"],[4,"ngIf"],[1,"form-group","mt-2"],["for","quizzDes"],["type","text","placeholder","Ex: Mid term exam","formControlName","description","pInputText","","id","quizzDes",1,"app-control","form-control","mt-1"],["formControlName","examTime"],[1,"text-end","mt-3"],["label","Update","pButton","","type","submit",1,"p-button-help","ms-2"],[1,"fas","fa-sync","text-white"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,i){if(1&t){const a=e.EpF();e.YNc(0,Qt,27,11,"ng-template",null,0,e.W1O),e.TgZ(2,"button",1),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(1);return i.openUpdateQuizzModal(c)}),e._UZ(3,"i",2),e._uU(4,"\xa0\xa0\n"),e.qZA()}},directives:[v.Hq,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,u.O5,C.Pm],styles:[""]}),n})();var qt=l(5714);let wt=(()=>{class n{constructor(t,i,a,s,c){this.quizzService=t,this.confirmationService=i,this.store=a,this.destroyableService=s,this.toastService=c}confirmDeleteQuizz(){const t=this.store.selectSnapshot(d.selectedQuizz);void 0!==t?this.confirmationService.confirm({message:"Ba\u0323n co\u0301 th\xe2\u0323t s\u01b0\u0323 mu\xf4\u0301n xo\u0301a ba\u0300i thi na\u0300y kh\xf4ng?",accept:()=>{this.quizzService.deleteQuizz(t.id).pipe((0,h.R)(this.destroyableService.destroy$)).subscribe({next:()=>{this.store.dispatch(new qt.i_(d)),this.toastService.success("Xo\u0301a ba\u0300i tha\u0300nh c\xf4ng")},error:()=>{this.toastService.error("\u0110a\u0303 co\u0301 l\xf4\u0303i xa\u0309y ra, vui lo\u0300ng th\u01b0\u0309 la\u0323i!")}})}}):this.toastService.error("Ha\u0303y cho\u0323n m\xf4n ho\u0323c \u0111\xea\u0309 xo\u0301a!")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(z),e.Y36(S.YP),e.Y36(p.yh),e.Y36(m.R),e.Y36(g._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-quizz-modal"]],features:[e._Bn([S.YP,m.R])],decls:4,vars:0,consts:[["header","Xa\u0301c nh\xe2\u0323n","icon","pi pi-exclamation-triangle"],["pButton","","label","Delete",1,"ms-2",3,"click"],[1,"fas","fa-times","text-white"]],template:function(t,i){1&t&&(e._UZ(0,"p-confirmDialog",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return i.confirmDeleteQuizz()}),e._UZ(2,"i",2),e._uU(3,"\xa0\xa0\n"),e.qZA())},directives:[N.Q,v.Hq],styles:[""]}),n})();function kt(n,o){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"app-create-quizz-modal"),e._UZ(2,"app-update-quizz-modal"),e._UZ(3,"app-delete-quizz-modal"),e.qZA())}function St(n,o){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.header," ")}}function Mt(n,o){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.hij(" ",t.header," ")}}function It(n,o){if(1&n&&(e._uU(0),e._UZ(1,"p-sortIcon",18)),2&n){const t=e.oxw().$implicit;e.hij(" ",t.header," "),e.xp6(1),e.s9C("field",t.field)}}function Ft(n,o){if(1&n&&(e.TgZ(0,"th",13),e.ynx(1,14),e.YNc(2,St,1,1,"ng-template",15),e.YNc(3,Mt,1,1,"ng-template",16),e.YNc(4,It,2,2,"ng-template",17),e.BQk(),e.qZA()),2&n){const t=o.$implicit;e.s9C("pSortableColumn",t.field),e.xp6(1),e.Q6J("ngSwitch",t.field)}}function Ut(n,o){}function Jt(n,o){if(1&n&&e._UZ(0,"p-columnFilter",19),2&n){const t=e.oxw().$implicit;e.Q6J("field",t.field)}}function Nt(n,o){if(1&n&&(e.TgZ(0,"th"),e.ynx(1,14),e.YNc(2,Ut,0,0,"ng-template",15),e.YNc(3,Jt,1,1,"ng-template",17),e.BQk(),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngSwitch",t.field)}}function Yt(n,o){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Ft,5,2,"th",11),e.qZA(),e.TgZ(2,"tr"),e.YNc(3,Nt,4,1,"th",12),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("ngForOf",t)}}function Ot(n,o){if(1&n&&e._UZ(0,"p-tableRadioButton",24),2&n){const t=e.oxw(2).$implicit;e.Q6J("value",t)}}function Bt(n,o){if(1&n&&(e.TgZ(0,"span",25),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.id)}}function Dt(n,o){if(1&n&&(e._UZ(0,"i",26),e._uU(1)),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.description," ")}}function Rt(n,o){if(1&n&&(e._UZ(0,"i",26),e._uU(1)),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Lt(n,o){if(1&n&&(e.TgZ(0,"span",27),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.Q6J("ngbTooltip",t.dateCreated),e.xp6(1),e.Oqu(t.dateCreated)}}function Et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",28),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit;return e.oxw().onSelectedQuizz(a)}),e._UZ(1,"i",29),e.qZA()}}function Pt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit;return e.oxw().saveSelectedQuizz(a)}),e._UZ(1,"i",31),e.qZA()}2&n&&e.Q6J("ngbTooltip","B\u0103\u0301t \u0111\xe2\u0300u la\u0300m ba\u0300i")}function $t(n,o){if(1&n&&(e.TgZ(0,"td",22),e.ynx(1,14),e.YNc(2,Ot,1,1,"ng-template",23),e.YNc(3,Bt,2,1,"ng-template",23),e.YNc(4,Dt,2,1,"ng-template",23),e.YNc(5,Rt,2,1,"ng-template",23),e.YNc(6,Lt,2,2,"ng-template",23),e.YNc(7,Et,2,0,"ng-template",23),e.YNc(8,Pt,2,1,"ng-template",23),e.BQk(),e.qZA()),2&n){const t=o.$implicit;e.ekj("text-center","nationality"===t.field||"edit"===t.field),e.xp6(1),e.Q6J("ngSwitch",t.field),e.xp6(1),e.Q6J("ngSwitchCase","selection"),e.xp6(1),e.Q6J("ngSwitchCase","id"),e.xp6(1),e.Q6J("ngSwitchCase","description"),e.xp6(1),e.Q6J("ngSwitchCase","name"),e.xp6(1),e.Q6J("ngSwitchCase","dateCreated"),e.xp6(1),e.Q6J("ngSwitchCase","edit"),e.xp6(1),e.Q6J("ngSwitchCase","exam")}}function Ht(n,o){if(1&n&&(e.TgZ(0,"tr",20),e.YNc(1,$t,9,10,"td",21),e.qZA()),2&n){const t=o.columns;e.xp6(1),e.Q6J("ngForOf",t)}}class k{constructor(o,t,i,a){this.router=o,this.toastService=t,this.quizzService=i,this.store=a,this.selectedSubject={},this.cols=[{header:"Selection",field:"selection",width:3},{header:"ID",field:"id",width:18},{header:"Ba\u0300i thi",field:"name"},{header:"M\xf4 ta\u0309",field:"description"},{header:"Nga\u0300y ta\u0323o",field:"dateCreated"},{header:"Ta\u0323o c\xe2u ho\u0309i",field:"edit"},{header:"La\u0300m ba\u0300i",field:"exam"}]}ngOnInit(){this.selectedSublect$.subscribe(o=>{o?(this.selectedSubject=o,this.quizzes$=this.quizzService.getQuizz(o.id)):(this.router.navigate(["/home/subject"]),this.toastService.warning("Vui lo\u0300ng cho\u0323n m\xf4\u0323t m\xf4n ho\u0323c \u0111\xea\u0309 xem ba\u0300i thi!"))})}saveSelectedQuizz(o){this.store.dispatch(new U(o)).subscribe(()=>{this.router.navigate(["/home/quizz/exam"])})}onSelectedQuizz(o){this.store.dispatch(new U(o))}}k.\u0275fac=function(o){return new(o||k)(e.Y36(_.F0),e.Y36(g._W),e.Y36(z),e.Y36(p.yh))},k.\u0275cmp=e.Xpm({type:k,selectors:[["app-quizz-list"]],decls:13,vars:17,consts:[[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"card-block"],["scrollWidth","100%","columnResizeMode","expand","styleClass","p-datatable-gridlines","responsiveLayout","scroll",3,"value","rowHover","rows","paginator","filterDelay","columns","scrollable","selection","scrollHeight","responsive","selectionMode","resizableColumns","selectionChange"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["canDisplayCrud",""],[3,"pSortableColumn",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"ngSwitch"],["ngSwitchCase","selection"],["ngSwitchCase","exam"],["ngSwitchDefault",""],[3,"field"],["type","text","display","menu",3,"field"],[1,"p-selectable-row"],["class","text-nowrap",3,"text-center",4,"ngFor","ngForOf"],[1,"text-nowrap"],[3,"ngSwitchCase"],["name","subject",3,"value"],[1,"text-primary"],[1,"pi","pi-pencil"],["placement","bottom","container","body",3,"ngbTooltip"],["pButton","","routerLink","/home/quizz/exam/editing","label"," ",1,"p-button-success","text-decoration-none",3,"click"],[1,"fas","fa-edit"],["container","body","placement","bottom",1,"btn","btn-danger","px-4",3,"ngbTooltip","click"],[1,"fas","fa-hourglass-start"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h4",2),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"p-table",5,6),e.NdJ("selectionChange",function(a){return t.selectedQuizz=a})("selectionChange",function(a){return t.onSelectedQuizz(a)}),e.ALo(9,"async"),e.YNc(10,kt,4,0,"ng-template",7),e.YNc(11,Yt,4,2,"ng-template",8),e.YNc(12,Ht,2,1,"ng-template",9),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(3),e.hij(" ",e.lcZ(4,13,"Ca\u0301c ba\u0300i thi m\xf4n "+t.selectedSubject.name)," "),e.xp6(4),e.Q6J("value",e.lcZ(9,15,t.quizzes$))("rowHover",!0)("rows",5)("paginator",!0)("filterDelay",0)("columns",t.cols)("scrollable",!0)("selection",t.selectedQuizz)("scrollHeight","100%")("responsive",!0)("selectionMode","single")("resizableColumns",!0))},directives:[w.iA,S.jx,ht.g,bt,At,wt,u.sg,w.lQ,u.RF,u.n9,u.ED,w.fz,w.xl,w.GE,C._L,_.yS,v.Hq],pipes:[u.rS,u.Ov],styles:[""]}),(0,b.gn)([(0,p.Ph)(Y.t.getSelectedSubject)],k.prototype,"selectedSublect$",void 0);const jt=[{path:"",children:[{path:"",component:k},{path:"exam",children:[{canActivate:[$],path:"",component:q},{path:"fulfilled",component:st},{path:"",pathMatch:"full",redirectTo:"fulfilled"},{canActivate:[V],path:"editing",component:Q}]},{path:"",pathMatch:"full",redirectTo:""}]}];let Vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.Bz.forChild(jt)],_.Bz]}),n})();var Gt=l(8308);let Wt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,r.u5]]}),n})();var Xt=l(237);let Kt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,Vt,w.U$,C.HK,ae,r.UX,v.hJ,p.$l.forFeature([d,Y.t]),Gt.A0,C.bz,C.UL,N.D,Wt,Ve,Xt.Z]]}),n})()}}]);